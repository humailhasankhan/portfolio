import React, { useState, useEffect } from "react";
import "./Loader.css";
import anime from "animejs";
import AnimateComponent from "./AnimateComponent";
import { motion, AnimatePresence } from "framer-motion";

const Loader = () => {
  const [showComponent, setShowComponent] = useState(true);
  setTimeout(() => {
    setShowComponent(false);
  }, 7000);
  const animation = () => {
    anime({
      targets: "#logo path",
      strokeDashoffset: [anime.setDashoffset, 0],
      fill: ["rgba(0,0,0,0)", "rgba(255, 255, 255)"],
      easing: "easeInOutSine",
      duration: 2600,
      delay: function (element, i) {
        return i * 200;
      },
      direction: "alternate",
      loop: false,
    });
  };
  useEffect(() => {
    animation();
  }, [showComponent]);

  return (
    <>
      <AnimateComponent>
        <AnimatePresence>
          {showComponent && (
            <motion.div
              className="container-svg"
              onLoad={() => animation()}
              exit={{ opacity: 0 }}
              transition={{ duration: 1 }}
            >
              <svg
                id="logo"
                width="894"
                height="112"
                viewBox="0 0 894 112"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="main-svg"
              >
                <mask id="path-1-inside-1_62_64" fill="white">
                  <path d="M77.6738 9.63198V110H64.5698V64.496H13.4498V110H0.345825V9.63198H13.4498V53.696H64.5698V9.63198H77.6738Z" />
                  <path d="M170.033 31.088V110H156.929V98.336C154.433 102.368 150.929 105.536 146.417 107.84C142.001 110.048 137.105 111.152 131.729 111.152C125.585 111.152 120.065 109.904 115.169 107.408C110.273 104.816 106.385 100.976 103.505 95.888C100.721 90.8 99.3289 84.608 99.3289 77.312V31.088H112.289V75.584C112.289 83.36 114.257 89.36 118.193 93.584C122.129 97.712 127.505 99.776 134.321 99.776C141.329 99.776 146.849 97.616 150.881 93.296C154.913 88.976 156.929 82.688 156.929 74.432V31.088H170.033Z" />
                  <path d="M287.054 29.648C293.198 29.648 298.67 30.944 303.47 33.536C308.27 36.032 312.062 39.824 314.846 44.912C317.63 50 319.022 56.192 319.022 63.488V110H306.062V65.36C306.062 57.488 304.094 51.488 300.158 47.36C296.318 43.136 291.086 41.024 284.462 41.024C277.646 41.024 272.222 43.232 268.19 47.648C264.158 51.968 262.142 58.256 262.142 66.512V110H249.182V65.36C249.182 57.488 247.214 51.488 243.278 47.36C239.438 43.136 234.206 41.024 227.582 41.024C220.766 41.024 215.342 43.232 211.31 47.648C207.278 51.968 205.262 58.256 205.262 66.512V110H192.158V31.088H205.262V42.464C207.854 38.336 211.31 35.168 215.63 32.96C220.046 30.752 224.894 29.648 230.174 29.648C236.798 29.648 242.654 31.136 247.742 34.112C252.83 37.088 256.622 41.456 259.118 47.216C261.326 41.648 264.974 37.328 270.062 34.256C275.15 31.184 280.814 29.648 287.054 29.648Z" />
                  <path d="M335.622 70.256C335.622 62.192 337.254 55.136 340.518 49.088C343.782 42.944 348.246 38.192 353.91 34.832C359.67 31.472 366.054 29.792 373.062 29.792C379.974 29.792 385.974 31.28 391.062 34.256C396.15 37.232 399.942 40.976 402.438 45.488V31.088H415.686V110H402.438V95.312C399.846 99.92 395.958 103.76 390.774 106.832C385.686 109.808 379.734 111.296 372.918 111.296C365.91 111.296 359.574 109.568 353.91 106.112C348.246 102.656 343.782 97.808 340.518 91.568C337.254 85.328 335.622 78.224 335.622 70.256ZM402.438 70.4C402.438 64.448 401.238 59.264 398.838 54.848C396.438 50.432 393.174 47.072 389.046 44.768C385.014 42.368 380.55 41.168 375.654 41.168C370.758 41.168 366.294 42.32 362.262 44.624C358.23 46.928 355.014 50.288 352.614 54.704C350.214 59.12 349.014 64.304 349.014 70.256C349.014 76.304 350.214 81.584 352.614 86.096C355.014 90.512 358.23 93.92 362.262 96.32C366.294 98.624 370.758 99.776 375.654 99.776C380.55 99.776 385.014 98.624 389.046 96.32C393.174 93.92 396.438 90.512 398.838 86.096C401.238 81.584 402.438 76.352 402.438 70.4Z" />
                  <path d="M444.598 18.272C442.102 18.272 439.99 17.408 438.262 15.68C436.534 13.952 435.67 11.84 435.67 9.34399C435.67 6.84799 436.534 4.73599 438.262 3.00799C439.99 1.27999 442.102 0.415985 444.598 0.415985C446.998 0.415985 449.014 1.27999 450.646 3.00799C452.374 4.73599 453.238 6.84799 453.238 9.34399C453.238 11.84 452.374 13.952 450.646 15.68C449.014 17.408 446.998 18.272 444.598 18.272ZM450.934 31.088V110H437.83V31.088H450.934Z" />
                  <path d="M486.372 3.43999V110H473.268V3.43999H486.372Z" />
                  <path d="M601.528 110L560.2 64.208V110H547.096V9.63198H560.2V56.144L601.672 9.63198H618.232L572.728 59.888L618.664 110H601.528Z" />
                  <path d="M672.467 29.648C678.419 29.648 683.795 30.944 688.595 33.536C693.395 36.032 697.139 39.824 699.827 44.912C702.611 50 704.003 56.192 704.003 63.488V110H691.043V65.36C691.043 57.488 689.075 51.488 685.139 47.36C681.203 43.136 675.827 41.024 669.011 41.024C662.099 41.024 656.579 43.184 652.451 47.504C648.419 51.824 646.403 58.112 646.403 66.368V110H633.299V3.43999H646.403V42.32C648.995 38.288 652.547 35.168 657.059 32.96C661.667 30.752 666.803 29.648 672.467 29.648Z" />
                  <path d="M720.512 70.256C720.512 62.192 722.144 55.136 725.408 49.088C728.672 42.944 733.136 38.192 738.8 34.832C744.56 31.472 750.944 29.792 757.952 29.792C764.864 29.792 770.864 31.28 775.952 34.256C781.04 37.232 784.832 40.976 787.328 45.488V31.088H800.576V110H787.328V95.312C784.736 99.92 780.848 103.76 775.664 106.832C770.576 109.808 764.624 111.296 757.808 111.296C750.8 111.296 744.464 109.568 738.8 106.112C733.136 102.656 728.672 97.808 725.408 91.568C722.144 85.328 720.512 78.224 720.512 70.256ZM787.328 70.4C787.328 64.448 786.128 59.264 783.728 54.848C781.328 50.432 778.064 47.072 773.936 44.768C769.904 42.368 765.44 41.168 760.544 41.168C755.648 41.168 751.184 42.32 747.152 44.624C743.12 46.928 739.904 50.288 737.504 54.704C735.104 59.12 733.904 64.304 733.904 70.256C733.904 76.304 735.104 81.584 737.504 86.096C739.904 90.512 743.12 93.92 747.152 96.32C751.184 98.624 755.648 99.776 760.544 99.776C765.44 99.776 769.904 98.624 773.936 96.32C778.064 93.92 781.328 90.512 783.728 86.096C786.128 81.584 787.328 76.352 787.328 70.4Z" />
                  <path d="M861.169 29.648C870.769 29.648 878.545 32.576 884.497 38.432C890.449 44.192 893.425 52.544 893.425 63.488V110H880.465V65.36C880.465 57.488 878.497 51.488 874.561 47.36C870.625 43.136 865.249 41.024 858.433 41.024C851.521 41.024 846.001 43.184 841.873 47.504C837.841 51.824 835.825 58.112 835.825 66.368V110H822.721V31.088H835.825V42.32C838.417 38.288 841.921 35.168 846.337 32.96C850.849 30.752 855.793 29.648 861.169 29.648Z" />
                </mask>
                <path
                  d="M77.6738 9.63198V110H64.5698V64.496H13.4498V110H0.345825V9.63198H13.4498V53.696H64.5698V9.63198H77.6738Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M170.033 31.088V110H156.929V98.336C154.433 102.368 150.929 105.536 146.417 107.84C142.001 110.048 137.105 111.152 131.729 111.152C125.585 111.152 120.065 109.904 115.169 107.408C110.273 104.816 106.385 100.976 103.505 95.888C100.721 90.8 99.3289 84.608 99.3289 77.312V31.088H112.289V75.584C112.289 83.36 114.257 89.36 118.193 93.584C122.129 97.712 127.505 99.776 134.321 99.776C141.329 99.776 146.849 97.616 150.881 93.296C154.913 88.976 156.929 82.688 156.929 74.432V31.088H170.033Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M287.054 29.648C293.198 29.648 298.67 30.944 303.47 33.536C308.27 36.032 312.062 39.824 314.846 44.912C317.63 50 319.022 56.192 319.022 63.488V110H306.062V65.36C306.062 57.488 304.094 51.488 300.158 47.36C296.318 43.136 291.086 41.024 284.462 41.024C277.646 41.024 272.222 43.232 268.19 47.648C264.158 51.968 262.142 58.256 262.142 66.512V110H249.182V65.36C249.182 57.488 247.214 51.488 243.278 47.36C239.438 43.136 234.206 41.024 227.582 41.024C220.766 41.024 215.342 43.232 211.31 47.648C207.278 51.968 205.262 58.256 205.262 66.512V110H192.158V31.088H205.262V42.464C207.854 38.336 211.31 35.168 215.63 32.96C220.046 30.752 224.894 29.648 230.174 29.648C236.798 29.648 242.654 31.136 247.742 34.112C252.83 37.088 256.622 41.456 259.118 47.216C261.326 41.648 264.974 37.328 270.062 34.256C275.15 31.184 280.814 29.648 287.054 29.648Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M335.622 70.256C335.622 62.192 337.254 55.136 340.518 49.088C343.782 42.944 348.246 38.192 353.91 34.832C359.67 31.472 366.054 29.792 373.062 29.792C379.974 29.792 385.974 31.28 391.062 34.256C396.15 37.232 399.942 40.976 402.438 45.488V31.088H415.686V110H402.438V95.312C399.846 99.92 395.958 103.76 390.774 106.832C385.686 109.808 379.734 111.296 372.918 111.296C365.91 111.296 359.574 109.568 353.91 106.112C348.246 102.656 343.782 97.808 340.518 91.568C337.254 85.328 335.622 78.224 335.622 70.256ZM402.438 70.4C402.438 64.448 401.238 59.264 398.838 54.848C396.438 50.432 393.174 47.072 389.046 44.768C385.014 42.368 380.55 41.168 375.654 41.168C370.758 41.168 366.294 42.32 362.262 44.624C358.23 46.928 355.014 50.288 352.614 54.704C350.214 59.12 349.014 64.304 349.014 70.256C349.014 76.304 350.214 81.584 352.614 86.096C355.014 90.512 358.23 93.92 362.262 96.32C366.294 98.624 370.758 99.776 375.654 99.776C380.55 99.776 385.014 98.624 389.046 96.32C393.174 93.92 396.438 90.512 398.838 86.096C401.238 81.584 402.438 76.352 402.438 70.4Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M444.598 18.272C442.102 18.272 439.99 17.408 438.262 15.68C436.534 13.952 435.67 11.84 435.67 9.34399C435.67 6.84799 436.534 4.73599 438.262 3.00799C439.99 1.27999 442.102 0.415985 444.598 0.415985C446.998 0.415985 449.014 1.27999 450.646 3.00799C452.374 4.73599 453.238 6.84799 453.238 9.34399C453.238 11.84 452.374 13.952 450.646 15.68C449.014 17.408 446.998 18.272 444.598 18.272ZM450.934 31.088V110H437.83V31.088H450.934Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M486.372 3.43999V110H473.268V3.43999H486.372Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M601.528 110L560.2 64.208V110H547.096V9.63198H560.2V56.144L601.672 9.63198H618.232L572.728 59.888L618.664 110H601.528Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M672.467 29.648C678.419 29.648 683.795 30.944 688.595 33.536C693.395 36.032 697.139 39.824 699.827 44.912C702.611 50 704.003 56.192 704.003 63.488V110H691.043V65.36C691.043 57.488 689.075 51.488 685.139 47.36C681.203 43.136 675.827 41.024 669.011 41.024C662.099 41.024 656.579 43.184 652.451 47.504C648.419 51.824 646.403 58.112 646.403 66.368V110H633.299V3.43999H646.403V42.32C648.995 38.288 652.547 35.168 657.059 32.96C661.667 30.752 666.803 29.648 672.467 29.648Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M720.512 70.256C720.512 62.192 722.144 55.136 725.408 49.088C728.672 42.944 733.136 38.192 738.8 34.832C744.56 31.472 750.944 29.792 757.952 29.792C764.864 29.792 770.864 31.28 775.952 34.256C781.04 37.232 784.832 40.976 787.328 45.488V31.088H800.576V110H787.328V95.312C784.736 99.92 780.848 103.76 775.664 106.832C770.576 109.808 764.624 111.296 757.808 111.296C750.8 111.296 744.464 109.568 738.8 106.112C733.136 102.656 728.672 97.808 725.408 91.568C722.144 85.328 720.512 78.224 720.512 70.256ZM787.328 70.4C787.328 64.448 786.128 59.264 783.728 54.848C781.328 50.432 778.064 47.072 773.936 44.768C769.904 42.368 765.44 41.168 760.544 41.168C755.648 41.168 751.184 42.32 747.152 44.624C743.12 46.928 739.904 50.288 737.504 54.704C735.104 59.12 733.904 64.304 733.904 70.256C733.904 76.304 735.104 81.584 737.504 86.096C739.904 90.512 743.12 93.92 747.152 96.32C751.184 98.624 755.648 99.776 760.544 99.776C765.44 99.776 769.904 98.624 773.936 96.32C778.064 93.92 781.328 90.512 783.728 86.096C786.128 81.584 787.328 76.352 787.328 70.4Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
                <path
                  d="M861.169 29.648C870.769 29.648 878.545 32.576 884.497 38.432C890.449 44.192 893.425 52.544 893.425 63.488V110H880.465V65.36C880.465 57.488 878.497 51.488 874.561 47.36C870.625 43.136 865.249 41.024 858.433 41.024C851.521 41.024 846.001 43.184 841.873 47.504C837.841 51.824 835.825 58.112 835.825 66.368V110H822.721V31.088H835.825V42.32C838.417 38.288 841.921 35.168 846.337 32.96C850.849 30.752 855.793 29.648 861.169 29.648Z"
                  stroke="white"
                  strokeWidth="6"
                  mask="url(#path-1-inside-1_62_64)"
                />
              </svg>
            </motion.div>
          )}
        </AnimatePresence>
      </AnimateComponent>
    </>
  );
};

export default Loader;
